<!DOCTYPE html>
<html>
<head>

  <link rel="stylesheet"  media="screen"  href="styles.css">
  <link href='//fonts.googleapis.com/css?family=Bree Serif' rel='stylesheet'>
</head>


<title>Untitled Document</title>

<body>

<section id="contact">
<div class="allelement" id="allelement">
  <form class = "myForm" action="test_submit" method="get" accept-charset="utf-8">
    <h1>Your Name</h1>
      <p class="leftSide" >
      Firstname :
        <input type="text" name="fname" placeholder="Enter your name" id="fname" />
        <p class ="rightSide">Lastname :
        <input type="text" name="lname" placeholder="Enter your lastname" id="lname" />
        </p>
    </p>

    <h1>Addresss</h1>
    <p  >House number :
      <input type="text"  name="hnum" id="hnum" />
      <p >Street :
      <input type="text"  name="street" id="street" />
    </p>
    </p> 
      
    <p >City :
    <input type="text" name="city" id="city" /></p>
    <p>Province :
      <input type="text" name="province" id="province" />
      
    </p> 


    <p >Zipcode : 
      <input type="text" name="zipcode" id="zipcode" maxlength="5" />  </p>
      <!-- placeholder="+662‐xxx‐xxx" -->
      <!-- "Enter Your Phone Number"(Example : +662‐xxx‐xxx) -->
      <h1>Phone</h1>
    <p >Phone number :</p>
    <!-- <p>(Example : +662‐xxx‐xxx)</p> -->
    <input type="text" name="phonenum" id="phonenum"  placeholder="Enter Your Phone Number"  maxlength="12"/>
    
  </p> 

  <p >
    Cell phone number :   
    <!-- <p>(Example : +66xx‐xxx‐xxxx)</p> -->
    
    <!-- <input type="text" name="cellpnum" id="cellpnum" placeholder="+66xx‐xxx‐xxxx" maxlength="9"/></p> -->
    <input type="text" name="cellpnum" id="cellpnum" placeholder="Enter Your Cell Phone Number" maxlength="14"/>
    
  <p>
  <p  >
    Citizenship number :
    <input type="text" name="citizen" id="citizen" maxlength="13"/>
    
  <!-- </p> -->
</p> 
    <div class="birthEle" id="b1">
        <h1>
          Birthday 
        </h1>
<!--         <input type="text" name="birthday" id="birthday"  > -->
          <!-- Day:  -->
          <input type="text" name="day" id="day"  maxlength="2"/>
          <!-- Month: -->/
          <input type="text" name="month" id="month"  maxlength="2"/>

          <!-- Year: -->/
          <input type="text" name="year" id="year"  maxlength="4"/>
        

                  </div>
            </form>
      </div> 
  </section>
<!--   <p>
    Citizenship number :
    <input type="text" name="citizen" id="citizen" maxlength="13"/>
  </p> -->
  <div class="boxele" id="boxele">
  <p class = "birth"> 
    Birth Day of Week :
    <!-- <label for="birthweek"></label> -->
    <select name="birthweek" id="birthweek">
      <option value="1" selected="selected">Monday</option>
      <option value="2">Tuesday</option>
      <option value="3">Wednesday</option>
      <option value="4">Thursday</option>
      <option value="5">Friday</option>
      <option value="6">Saturday</option>
      <option value="7">Sunday</option>
    </select>
  </p>
                  
  <p class = "birth" >
   Zodiac Sign 
    <select name="zsign" id="zsign">
      <option value="1" selected="selected">Aries</option>
      <option value="2">Taurus</option>
      <option value="3">Gemini</option>
      <option value="4">Cancer</option>
      <option value="5">Leo</option>
      <option value="6">Virgo</option>
      <option value="7">Libra</option>
      <option value="8">Scorpio</option>
      <option value="9">Sagittarius</option>
      <option value="10">Capricorn</option>
      <option value="11">Aquarius</option>
      <option value="12">Pisces</option>
    </select>
  </p>
  <p class = "birth">
    Zodiac Year 
    <select name="zyear" id="zyear">
      <option value="1" selected="selected">Rat</option>
      <option value="2">Ox</option>
      <option value="3">Tiger</option>
      <option value="4">Rabbit</option>
      <option value="5">Dragon</option>
      <option value="6">Snake</option>
      <option value="7">Horse</option>
      <option value="8">Goat</option>
      <option value="9">Monkey</option>
      <option value="10">Rooster</option>
      <option value="11">Dog</option>
      <option value="12">Pig</option>
    </select>
  </p>
  
  <button onclick="saveFunction()" type="button">Save</button>
  <button onclick="submitFunction()" type="button">Submit</button>
  <button onclick="clearFunction()" type="button">Clear</button>

   </div> 
 <table style="display:none;" id = "table" cellspacing="50">
     <tr>
    <td>Question</td>
    <td>Answer</td>
    <hr>
  </tr>
 </table>



<script type="text/javascript">

 var elements = ["fname", "lname","hnum","street","city","province","zipcode","phonenum","cellpnum","day","month","year","birthweek","citizen","zsign","zyear"];
 // "cellpnum","day","month","year"
// firstname.oninput = validate(){
//     var test = this.value;
//     if (isNaN(test) || test < 1 || test > 10) {
//         alert("Only Letter");
//     } else {
//         // text = "Input OK";
//     }
//   };

var firstname = document.getElementById("fname");
firstname.oninput = function(){
  
  showErrorLetter(this);

  };

var lastname = document.getElementById("lname");
lastname.oninput = function(){
   var letters = /^[A-Za-z]+$/;
    showErrorLetter(this);
  };


var hnum = document.getElementById("hnum");
hnum.oninput = function(){
    showErrorNumeric(this);
   
  };

var street = document.getElementById("street");
street.oninput = function(){
    showErrorLetter(this);
  };

var city = document.getElementById("city");
city.oninput = function(){
   var letters = /^[A-Za-z]+$/;
   showErrorLetter(this);
  };
var province = document.getElementById("province");
province.oninput = function(){

   var letters = /^[A-Za-z]+$/;
   showErrorLetter(this);
  };

var zipcode = document.getElementById("zipcode");
zipcode.oninput = function(){
    var test = this.value;
     showErrorNumeric(this);
  };
// var phonenum = document.getElementById("phonenum");
document.getElementById("phonenum").addEventListener('keyup',function(evt){
        var phoneNumber = document.getElementById("phonenum");
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        // console.log(phoneFormat(phoneNumber.value));
        phoneNumber.value = phoneFormat(phoneNumber.value);
        // console.log(phoneNumber.value);
});
function phoneFormat(input){

        var isNum = /\d+$/.test(input);
        
        if(isNum == false && input != "" ){
            alert("Only Number");
            input = input.substring(0,input.length-1);
          }
        var size = input.length;
        if(size == 1){
          input = '+662-'+input;}
        if(size==8){
          input = input+'-';
        }
      return input; 
}

document.getElementById("cellpnum").addEventListener('keyup',function(evt){
        var phoneNumber = document.getElementById("cellpnum");
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        console.log("value"+phoneFormat(phoneNumber.value));
        phoneNumber.value = phoneFormat2(phoneNumber.value);
        // console.log(phoneNumber.value);
});
function phoneFormat2(input){

          // input = input.replace(/\D/g,'');
          //  // console.log(input+"test");
          // if(input == ""){
          //  // console.log(input+"test");
          //   alert("Only Number");
          //   input = input.substring(0,input.length-1);
          // console.log(input+"test");
          //  }
          var isNum = /\d+$/.test(input);
        
        if(isNum == false && input != "" ){
            alert("Only Number");
            input = input.substring(0,input.length-1);
          }
        
        var size = input.length;
        console.log(size+"sixe");
        
        if(size == 1){
                input = '+66'+input;
        }
        if(size == 5){
                input = input+'-';
        }
        if(size == 9){
                input = input+'-';
        }
      
      return input; 
}
// var cellpnum = document.getElementById("cellpnum");
// cellpnum.oninput = function(){
//     var test = this.value;
//     showErrorNumeric(this);
//   };
// var cellpnum = document.getElementById("birthday");
// cellpnum.oninput = function(){
//     var test = this.value;
//     showErrorNumeric(this);
//   };
var day = document.getElementById("day");
day.oninput = function (){
    // var test = element.value;
    // console.log(element.value);
    var isNum = /^\d+$/.test(this.value);

    if(isNum == false && this.value != ""  ){
        alert("Only Number");
        this.value = this.value.substring(0,this.value.length-1);
    }
    if(this.value >31){
      alert("Invalid Day");
      this.value = this.value.substring(0,this.value.length-1);
    }

};
  


var month = document.getElementById("month");
month.oninput = function(){
    // var test = this.value;
    var isNum = /^\d+$/.test(this.value);

    if(isNum == false && this.value != ""  ){
        alert("Only Number");
        this.value = this.value.substring(0,this.value.length-1);
    }
    if(this.value >13){
      alert("Invalid Month");
      this.value = this.value.substring(0,this.value.length-1);
    }

};
  
var year = document.getElementById("year");
year.oninput = function(){
  showErrorNumeric(this);
}
var citizen = document.getElementById("citizen");
citizen.oninput = function(){
 showErrorNumeric(this);
}

function showErrorNumeric(element){
    // var test = element.value;
    // console.log(element.value);
    var isNum = /^\d+$/.test(element.value);
    // var isSpace = element.value.test("");
    // var testSpace = document.getElementById[element].value;

    // console.log(element.value.length);
    // if(element.length == 0 ){
     
    // }

    if(isNum == false && element.value != "" ){
        alert("Only Number");
        element.value = element.value.substring(0,element.value.length-1);
    }

    // if (isNaN(test) || test < 1 ) {
    //     element.value = element.value.substring(0,element.value.length-1);
    //     alert("Only Number");
        
    // }
  

}
function showErrorLetter(element){
  var letters = /^[0-9]+$/;
  // var letters = /^[A-Za-z]+$/;
   if(element.value.match(letters)){
            alert("Only Letter");
            element.value = element.value.substring(0,element.value.length-1);
      
     }
    // else{
    //         alert("Only Letter");
    //         element.value = element.value.substring(0,element.value.length-1);
    // }

}


function saveFunction(){
  
 for(var i = 0; i < elements.length; i++) {
       document.cookie = elements[i]+"="+document.getElementById(elements[i]).value   ;
        
    }
}

function checkdate(input){
    var validformat=/^\d{2}\/\d{2}\/\d{4}$/ //Basic check for format validity
    var returnval=false
    if (!validformat.test(input.value))
    alert("Invalid Date Format. Please correct and submit again.")
    else{ //Detailed check for valid date ranges
    var monthfield=input.value.split("/")[0]
    var dayfield=input.value.split("/")[1]
    var yearfield=input.value.split("/")[2]
    var dayobj = new Date(yearfield, monthfield-1, dayfield)
    if ((dayobj.getMonth()+1!=monthfield)||(dayobj.getDate()!=dayfield)||(dayobj.getFullYear()!=yearfield))
    alert("Invalid Day, Month, or Year range detected. Please correct and submit again.")
    else
    returnval=true
    }
    if (returnval==false) input.select()
    return returnval
}



function myFunction(){
  var abc = document.cookie;
  //console.log(abc);
  var a = abc.split(";");
  var show = localStorage.getItem('show');
  // console.log(show+"qq");
  if(show === 'true'){
      document.getElementById('table').style.display = "block";
  }
  else{
      for(var i = 0; i < a.length; i++) {
        var x = a[i].trim().split("=");
        //console.log(x);
        

        if(x[0]== "pressOk" && x[1]== "0"){
          i++;
        }

        else if (x[0]== "pressOk" && x[1]== "1"){
          // document.cookie = "pressOk="+"0";
          showtable();

        }

        else{
          document.getElementById(x[0]).value = x[1];
        }
      }
  }
}
function showtable(){
    document.cookie = "pressOk="+"0";
    var divOne = document.getElementById("allelement");
    var divtwo = document.getElementById("boxele");
    divOne.style.display='none';
    divtwo.style.display='none';
    var abc = document.cookie;
    
    
    var a = abc.split(";");    
    var table = document.getElementById("table");
    document.getElementById('table').style.display = "block";
    localStorage.setItem('show', 'true');
      for(var i = 0  ; i < a.length-1 ; i++) {
            console.log(a);
            var x = a[i].trim().split("=");
            console.log(x);
            var row = table.insertRow(-1);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);

            cell1.innerHTML = elements[i];
            cell2.innerHTML = x[1];
            
      
    }  


}
function clearFunction(){
 for(var i = 0; i < elements.length; i++) {
       document.getElementById(elements[i]).value = "";
  
    }
    
    document.cookie = 'expires=Thu, 01 Jan 1970 00:00:01 GMT;';
    
}
function submitFunction(){

  var r = confirm(document.cookie);

  if (r == true) {
      document.cookie = "pressOk="+"1"   ;
      window.location.reload(true);
      
  } 
  
 

}
localStorage.setItem('show', 'false');
window.onload = myFunction();

</script>
  <!-- <input type="submit" name="save" id="save" value="Save" /> -->


</body>

</html>